<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <title>Desafio Gamificação Academia TUU 2025</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#000000" />
  <style>
    @font-face {
      font-family: 'DINBlack';
      src: local('DIN Black'), local('DIN-Black'),
           url('https://fonts.cdnfonts.com/s/15151/DINBlack.woff') format('woff');
      font-weight: bold;
    }

    /* Splash screen */
    #splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    #splash-logo {
      width: 150px;
      height: 150px;
      animation: pulse 2s ease-in-out;
    }

    @keyframes pulse {
      0% { transform: scale(0.9); opacity: 0.7; }
      50% { transform: scale(1.1); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    body {
      margin: 0;
      font-family: 'DINBlack', sans-serif;
      background-color: #000;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    body.light-mode {
      background-color: white;
      color: black;
    }

    /* Buttons */
    #theme-toggle, #rules-btn {
      position: fixed;
      bottom: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #ffc400;
      border: none;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    #theme-toggle {
      right: 20px;
    }

    #rules-btn {
      left: 20px;
    }

    #theme-toggle svg, #rules-btn svg {
      width: 24px;
      height: 24px;
    }

    .light-mode .cell {
      background: #000;
      color: white;
      border-color: #ffc400;
    }

    .title-container {
      width: 100%;
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }

    h1 {
      color: #ffc400;
      text-align: center;
      margin: 0;
      font-size: 1.5em;
      width: 100%;
      max-width: 500px;
      padding: 0 20px;
      box-sizing: border-box;
    }

    #download-btn, #install-btn {
      background: #ffc400;
      color: black;
      padding: 10px 20px;
      border: none;
      font-size: 1em;
      cursor: pointer;
      border-radius: 5px;
      font-weight: bold;
      margin: 10px 0;
    }

    .bingo-header, .board {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      width: 100%;
      max-width: 500px;
    }

    .letter-cell {
      background-color: #ffc400;
      color: white;
      font-size: 1.5em;
      font-weight: 900;
      text-align: center;
      aspect-ratio: 1 / 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .cell {
      background: white;
      color: black;
      border: 2px solid #ffc400;
      aspect-ratio: 1 / 1;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.65em;
      font-weight: 700;
      text-align: center;
      padding: 2px;
      box-sizing: border-box;
    }

    .corner-cell {
      background: #9c9c9c !important;
    }

    /* Regras Popup */
    #rules-popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      z-index: 999;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }

    #rules-popup h2 {
      color: #ffc400;
    }
  </style>
</head>
<body>
  <div id="splash-screen">
    <img id="splash-logo" src="logo.png" alt="Academia TUU Logo">
  </div>

  <button id="rules-btn" aria-label="Abrir regulamento">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black">
      <path d="M4 2h14a2 2 0 0 1 2 2v18l-7-3-7 3V4a2 2 0 0 1 2-2z" />
    </svg>
  </button>

  <button id="theme-toggle" aria-label="Mudar tema">
    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black">
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>
    </svg>
    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black">
      <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/>
    </svg>
  </button>

  <div class="title-container">
    <h1>Desafio Gamificação Academia TUU 2025</h1>
  </div>

  <button id="download-btn">PRINTSCREEN</button>

  <div class="board-wrapper">
    <div class="bingo-header">
      <div class="letter-cell">B</div>
      <div class="letter-cell">I</div>
      <div class="letter-cell">N</div>
      <div class="letter-cell">G</div>
      <div class="letter-cell">O</div>
    </div>
    <div class="board" id="board"></div>
  </div>

  <button id="install-btn">INSTALAR APLICAÇÃO</button>

  <div id="rules-popup">
    <h2>REGULAMENTO</h2>
  </div>

  <script>
    const challenges = [
      "CRIAR UMA MASCOTE PARA A ACADEMIA",
      "TIRAR UMA FOTO COM UMA LONA DE OBRA DA TUU.",
      "CONSTRUIR UMA PEQUENA ESTRUTURA COM LÁPIS/CANETA.",
      "TIRAR UMA FOTO COM O TEU GRUPO DO DESAFIO DE EMPREENDEDORISMO.",
      "RECRIAR O LOGO DA ACADEMIA COM O CORPO DE VÁRIOS PARTICIPANTES",
      "FAZER UM PENTEADO DIFERENTE A OUTRO PARTICIPANTE.",
      "ENCONTRAR ALGUÉM QUE ESTEJA A USAR A MESMA COR QUE TU.",
      "TIRAR FOTO COM MAIS DE 30 PESSOAS.",
      "IMITAR UMA ESTÁTUA AO LADO DELA.",
      "ENCONTRAR UM ESTRANHO COM UM BOM BIGODE.",
      "VISITAR UM MONUMENTO CONHECIDO",
      "ENCONTRAR UM METRO BUS.",
      "FREE",
      "TIRAR FOTO COM UMA OBRA DA TUU TERMINADA.",
      "ENCONTRAR UM MUPI DA ACADEMIA.",
      "TIRAR FOTO COM UM TUU.",
      "TIRAR FOTO COM UM ORADOR.",
      "ENCONTRAR UM PARTICIPANTE COM MEIAS ENGRAÇADAS.",
      "DAR UMA LEMBRANÇA A OUTRO PARTICIPANTE.",
      "TIRAR FOTO A UMA STREET ART.",
      "TIRAR FOTO QUE REPRESENTE A ACADEMIA.",
      "ENCONTRAR UM PARTICIPANTE QUE TENHA UMA TATUAGEM.",
      "TIRAR FOTO A UM CÃO.",
      "TIRAR FOTO COM ALGUÉM COM A CAMISOLA DA ACADÉMICA.",
      "INVENTAR UM POEMA OU REFRÃO PARA A ACADEMIA."
    ];

    const board = document.getElementById('board');

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function createBoard() {
      const rearranged = [...challenges];

      // Index positions for corners: 0, 4, 20, 24
      rearranged[rearranged.indexOf("CRIAR UMA MASCOTE PARA A ACADEMIA")] = "X1";
      rearranged[0] = "CRIAR UMA MASCOTE PARA A ACADEMIA";
      rearranged[rearranged.indexOf("TIRAR FOTO QUE REPRESENTE A ACADEMIA.")] = "X2";
      rearranged[4] = "TIRAR FOTO QUE REPRESENTE A ACADEMIA.";
      rearranged[rearranged.indexOf("INVENTAR UM POEMA OU REFRÃO PARA A ACADEMIA.")] = "X3";
      rearranged[20] = "INVENTAR UM POEMA OU REFRÃO PARA A ACADEMIA.";
      rearranged[rearranged.indexOf("RECRIAR O LOGO DA ACADEMIA COM O CORPO DE VÁRIOS PARTICIPANTES")] = "X4";
      rearranged[24] = "RECRIAR O LOGO DA ACADEMIA COM O CORPO DE VÁRIOS PARTICIPANTES";

      for (let i = 0; i < 25; i++) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        if ([0, 4, 20, 24].includes(i)) cell.classList.add('corner-cell');
        if (i === 12) {
          cell.innerHTML = `<img src="logo.png" alt="FREE">`;
        } else {
          cell.innerHTML = `<div class="challenge-text">${rearranged[i]}</div>`;
        }
        board.appendChild(cell);
      }
    }

    createBoard();

    // Theme toggle
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
    });

    // Regras popup toggle
    const rulesBtn = document.getElementById('rules-btn');
    const rulesPopup = document.getElementById('rules-popup');
    rulesBtn.addEventListener('click', () => {
      rulesPopup.style.display = 'flex';
    });
    rulesPopup.addEventListener('click', () => {
      rulesPopup.style.display = 'none';
    });
  </script>
</body>
</html>
